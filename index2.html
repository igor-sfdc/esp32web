<h1>ESP32 Controller</h1>
<form id="inputForm" action="/" method="get" onsubmit="return onFormSubmit(this)">
  <div>
    ESP32 Server Address: <input id="esp32ServerIP" type="text" name="esp32ServerIP" value="0.0.0.0">
    &nbsp; &nbsp;
    Explorer Server Address: <input id="explorerServerIP" type="text" name="explorerServerIP" value="0.0.0.0">
  </div>
  <div class="range-line all-colors">
      <div class="range-group">
        <label class="switch">
          <input type="checkbox" name="allOn" onchange="onSliderChange(this)" class="switch-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group" style="vertical-align: top;">
        <div style="margin-top: 0.4em;">All Colors</div>
      </div>
      <div class="range-group">
        <label class="switch">
          <input type="checkbox" id="resumeSuspend" name="resumeSuspend" onchange="onResumeSuspendChange(this);" class="resume-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group" style="vertical-align: top;">
        <div id="resumeSuspendLabel" style="margin-top: 0.4em;">Resumed</div>
      </div>
      <div class="range-group" title="Select this option to automatically perform sensor calibration after Submit.&#10;&#10;This may take extra 10-30s/">
        <label class="switch">
          <input type="checkbox" id="autoAdjust" name="autoAdjust" class="auto-adjust-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group" style="vertical-align: top;">
        <div id="autoAdjustLabel" style="margin-top: 0.4em;">Auto-adjust</div>
      </div>
      <div class="range-group" title="Timer period equal to 1/(sampling frequency)">
        <div>Timer Period, us</div>
        <div>1000<input name="timerUs" type="range" min="1000" max="5000" value="1000" step="1000" oninput="updateValue(this)" class="range-input">5000</div>
        <div><input id="valueOf-timerUs" value="1000" readonly class="range-output"></div>
      </div>
      <div class="range-group" title="Select the number of consecutive readings to average over for each sample.">
        <div>Average Over Mgmts</div>
        <div>1<input name="averageOverReadings" type="range" min="1" max="30" value="9" step="2" oninput="updateValue(this)" class="range-input">30</div>
        <div><input id="valueOf-averageOverReadings" value="5" readonly="" class="range-output"></div>
      </div>
      <div class="range-group" title="The delay between the time LED is turned on and the time ADC reading starts.">
        <div>Delay After LED ON, us</div>
        <div>20<input name="ledMgmtDelayUs" type="range" min="20" max="200" value="50" step="10" oninput="updateValue(this)" class="range-input">200</div>
        <div><input id="valueOf-ledMgmtDelayUs" value="50" readonly="" class="range-output"></div>
      </div>
      <div class="range-group" title="Time Remainder shows how much time is left in the sampling window after all readings are done.&#10;&#10;It must be non-negative.&#10;&#10;If this value is negative try:
 * increasing Time Period
 * decreasing Average Over Mgmts
 * decreasing Delay After LED ON">
        <div>Time Remainder,</div>
        <div>us</div>
        <div><input name="timeRemainderAfterReadingUs" value="" readonly="" class="range-output"><br></div>
      </div>
  </div>

  <div class="range-line red">
      <div class="range-group">
        <label class="switch">
          <input type="checkbox" name="redOn" onchange="onSliderChange(this)" class="switch-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group">
        <div>Current</div>
        <div>0<input name="redCurrent" type="range" min="0" max="4095" value="0" oninput="updateValue(this)" class="range-input">4095</div>
        <div><input id="valueOf-redCurrent" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch1</div>
        <div>0<input name="redBias1" type="range" min="0" max="4095" value="0" oninput="updateValue(this)" class="range-input">4095</div>
        <div><input id="valueOf-redBias1" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch2</div>
        <div>0<input name="redBias2" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-redBias2" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch3</div>
        <div>0<input name="redBias3" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-redBias3" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch4</div>
        <div>0<input name="redBias4" type="range" min="0" max="4095" value="0" oninput="updateValue(this)" class="range-input">4095</div>
        <div><input id="valueOf-redBias4" value="0" readonly class="range-output"></div>
      </div>
  </div>


  <div class="range-line green">
      <div class="range-group">
        <label class="switch">
          <input type="checkbox" name="greenOn" onchange="onSliderChange(this)" class="switch-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group">
        <div>Current</div>
        <div>0<input name="greenCurrent" type="range" min="0" max="4095" value="0" oninput="updateValue(this)" class="range-input">4095</div>
        <div><input id="valueOf-greenCurrent" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch1</div>
        <div>0<input name="greenBias1" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-greenBias1" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch2</div>
        <div>0<input name="greenBias2" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-greenBias2" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch3</div>
        <div>0<input name="greenBias3" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-greenBias3" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch4</div>
        <div>0<input name="greenBias4" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-greenBias4" value="0" readonly class="range-output"></div>
      </div>
  </div>


  <div class="range-line blue">
      <div class="range-group">
        <label class="switch">
          <input type="checkbox" name="blueOn" onchange="onSliderChange(this)" class="switch-checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div class="range-group">
        <div>Current</div>
        <div>0<input name="blueCurrent" type="range" min="0" max="4095" value="0" oninput="updateValue(this)" class="range-input">4095</div>
        <div><input id="valueOf-blueCurrent" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch1</div>
        <div>0<input name="blueBias1" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-blueBias1" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch2</div>
        <div>0<input name="blueBias2" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-blueBias2" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch3</div>
        <div>0<input name="blueBias3" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-blueBias3" value="0" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Bias Ch4</div>
        <div>0<input name="blueBias4" type="range" min="0" max="1000" value="0" oninput="updateValue(this)" class="range-input">1000</div>
        <div><input id="valueOf-blueBias4" value="0" readonly class="range-output"></div>
      </div>
  </div>


  <div class="range-line all-colors">
      <div class="range-group" style="vertical-align: top;">
        <div style="margin-top: 0.4em;">Second-stage Gain: </div>
      </div>
      <div class="range-group">
        <div>Ch 1</div>
        <div>1<input name="gainCh1" type="range" min="1" max="200" value="10" oninput="updateValue(this)" class="range-input">200</div>
        <div><input id="valueOf-gainCh1" value="10" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Ch 2</div>
        <div>1<input name="gainCh2" type="range" min="1" max="200" value="40" oninput="updateValue(this)" class="range-input">200</div>
        <div><input id="valueOf-gainCh2" value="40" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Ch 3</div>
        <div>1<input name="gainCh3" type="range" min="1" max="200" value="40" oninput="updateValue(this)" class="range-input">200</div>
        <div><input id="valueOf-gainCh3" value="40" readonly class="range-output"></div>
      </div>
      <div class="range-group">
        <div>Ch 4</div>
        <div>1<input name="gainCh4" type="range" min="1" max="200" value="10" oninput="updateValue(this)" class="range-input">200</div>
        <div><input id="valueOf-gainCh4" value="10" readonly class="range-output"></div>
      </div>
  </div>

  <input type="submit" title="Click to submit changes">

  <label class="checkmark-container">&nbsp; Auto-save on Submit &nbsp;
    <input id="autosave" type="checkbox" name="autosave" checked>
    <span class="checkmark"></span>
  </label>

  <input type="button" onclick="saveData()" value="Save">

  <label class="checkmark-container">&nbsp; Auto-sync with device &nbsp;
    <input id="autosync" type="checkbox" name="autosync" checked>
    <span class="checkmark"></span>
  </label>

  <input type="button" onclick="loadDataFromDevice()" value="Sync with device" title="Click to retreive data from the device">

  <input type="button" onclick="clickCommandLink('/1__setTestMode-1')" value="Test mode" title="Click to enter Test Mode">

  <div class="invisible">
    <a href="#" id="commandLink">Command Link</a>
  </div>
</form>
